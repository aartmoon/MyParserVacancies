<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>VacancyModel.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MyParser</a> &gt; <a href="index.source.html" class="el_package">com.example.model</a> &gt; <span class="el_source">VacancyModel.java</span></div><h1>VacancyModel.java</h1><pre class="source lang-java linenums">package com.example.model;

import com.fasterxml.jackson.databind.JsonNode;
import java.util.HashMap;
import java.util.Map;
import lombok.Getter;

@Getter
public class VacancyModel {
<span class="nc" id="L10">    private final Map&lt;String, String&gt; details = new HashMap&lt;&gt;();</span>
    private final String title;
    private final String salary;
    private final String link;
    private final String company;
    private final String city;
<span class="nc" id="L16">    private final String requirement;</span>
<span class="nc" id="L17">    private final String responsibility;</span>
<span class="nc" id="L18">    private final String publishedAt;</span>

    public VacancyModel(String title, String salary, String link, String company, String city,
<span class="nc" id="L21">                       String requirement, String responsibility, String publishedAt) {</span>

<span class="nc" id="L23">        this.title = title;</span>
<span class="nc" id="L24">        this.salary = salary;</span>
<span class="nc" id="L25">        this.link = link;</span>
<span class="nc" id="L26">        this.company = company;</span>
<span class="nc" id="L27">        this.city = city;</span>
<span class="nc" id="L28">        this.requirement = requirement;</span>
<span class="nc" id="L29">        this.responsibility = responsibility;</span>
<span class="nc" id="L30">        this.publishedAt = publishedAt;</span>
<span class="nc" id="L31">    }</span>

<span class="nc" id="L33">    public VacancyModel(JsonNode vacancyNode) {</span>

<span class="nc" id="L35">        vacancyNode.fieldNames().forEachRemaining(field -&gt; {</span>
<span class="nc" id="L36">            JsonNode value = vacancyNode.get(field);</span>
<span class="nc bnc" id="L37" title="All 2 branches missed.">            details.put(field, value.isTextual() ? value.asText() : value.toString());</span>
<span class="nc" id="L38">        });</span>

<span class="nc" id="L40">        this.title = vacancyNode.path(&quot;name&quot;).asText(&quot;&quot;);</span>
<span class="nc" id="L41">        JsonNode salNode = vacancyNode.path(&quot;salary&quot;);</span>

<span class="nc bnc" id="L43" title="All 2 branches missed.">        if (salNode.isObject()) {</span>
<span class="nc bnc" id="L44" title="All 2 branches missed.">            String from = salNode.hasNonNull(&quot;from&quot;) ? salNode.get(&quot;from&quot;).asText() : &quot;&quot;;</span>
<span class="nc bnc" id="L45" title="All 2 branches missed.">            String to = salNode.hasNonNull(&quot;to&quot;) ? salNode.get(&quot;to&quot;).asText() : &quot;&quot;;</span>
<span class="nc" id="L46">            String curr = salNode.path(&quot;currency&quot;).asText(&quot;&quot;);</span>
<span class="nc bnc" id="L47" title="All 2 branches missed.">            this.salary = (from + (to.isEmpty() ? &quot;&quot; : &quot; - &quot; + to) + &quot; &quot; + curr).trim();</span>
<span class="nc" id="L48">        } else {</span>
<span class="nc" id="L49">            this.salary = &quot;не указано&quot;;</span>
        }

<span class="nc" id="L52">        this.link = vacancyNode.path(&quot;alternate_url&quot;).asText(&quot;#&quot;);</span>
<span class="nc" id="L53">        this.company = vacancyNode.path(&quot;employer&quot;).path(&quot;name&quot;).asText(&quot;&quot;);</span>
<span class="nc" id="L54">        this.city = vacancyNode.path(&quot;area&quot;).path(&quot;name&quot;).asText(&quot;&quot;);</span>

<span class="nc" id="L56">        JsonNode snippet = vacancyNode.path(&quot;snippet&quot;);</span>
<span class="nc" id="L57">        this.requirement = snippet.path(&quot;requirement&quot;).asText(&quot;&quot;);</span>
<span class="nc" id="L58">        this.responsibility = snippet.path(&quot;responsibility&quot;).asText(&quot;&quot;);</span>
<span class="nc" id="L59">        this.publishedAt = vacancyNode.path(&quot;published_at&quot;).asText(&quot;&quot;);</span>
<span class="nc" id="L60">    }</span>

    public String getTitle() {
<span class="nc" id="L63">        return title;</span>
    }
    public String getSalary() {
<span class="nc bnc" id="L66" title="All 2 branches missed.">        return salary.isEmpty() ? &quot;не указано&quot; : salary;</span>
    }
    public String getLink() {
<span class="nc" id="L69">        return link;</span>
    }
    public String getCompany() {
<span class="nc" id="L72">        return company;</span>
    }
    public String getCity() {
<span class="nc" id="L75">        return city;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.10.202304240956</span></div></body></html>